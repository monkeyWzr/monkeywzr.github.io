<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> laravel 5.2 事件广播 | マクロス</title>
<meta name=description content="勉強中">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="laravel 5.2 事件广播">
<meta property="og:description" content="简介 Laravel 事件提供了简单的观察者模式实现，允许你订阅和监听应用中的事件。事件类通常存放在 app/Events 目录，监听器存放在 app/Listeners。
配置 所有的事件广播配置选项都存放在 config/broadcasting.php 配置文件中。Laravel 支持多种广播驱动：Pusher、Redis以及一个服务于本地开发和调试的Log日志驱动。每一个驱动都已经有一个配置示例。基本上所有配置信息全可以在.env中指定，不需要改动broadcasting.php配置文件，如：
#在.env中配置驱动 BROADCAST_DRIVER=redis 注册事件和监听器 Laravel 自带的 EventServiceProvider（在 app/Providers/EventServiceProvider.php 中） 为事件注册提供了方便之所。其中的 listen 属性包含了事件（键）和对应监听器（值）数组。如果应用需要，你可以添加多个事件到该数组。例如，让我们添加 SomeEvent 事件：
/** * 事件监听器映射 * * @var array */ protected $listen = [ 'App\Events\SomeEvent' => [ 'App\Listeners\SomeEventListener', ], ]; 接下来使用event:generate命令生成对应的事件和监听器：
php artisan event:generate 执行后将会创建app/Events/SomeEvent.php 和 app/Listener/SomeEventListener.php。
 除了上面在 EventServiceProvider 中注册事件的方式，还可以使用 Event 门面或者 Illuminate\Contracts\Events\Dispatcher 契约的具体实现类作为事件分发器手动注册事件：
 /** * Register any other events for your application. * * @param \Illuminate\Contracts\Events\Dispatcher $events * @return void */ public function boot(DispatcherContract $events) { parent::boot($events); $events->listen('event.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.takuzen.me/posts/2016-10-08-laravel-event-broadcast/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2016-10-08T00:38:47+00:00">
<meta property="article:modified_time" content="2016-10-08T00:38:47+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="laravel 5.2 事件广播">
<meta name=twitter:description content="简介 Laravel 事件提供了简单的观察者模式实现，允许你订阅和监听应用中的事件。事件类通常存放在 app/Events 目录，监听器存放在 app/Listeners。
配置 所有的事件广播配置选项都存放在 config/broadcasting.php 配置文件中。Laravel 支持多种广播驱动：Pusher、Redis以及一个服务于本地开发和调试的Log日志驱动。每一个驱动都已经有一个配置示例。基本上所有配置信息全可以在.env中指定，不需要改动broadcasting.php配置文件，如：
#在.env中配置驱动 BROADCAST_DRIVER=redis 注册事件和监听器 Laravel 自带的 EventServiceProvider（在 app/Providers/EventServiceProvider.php 中） 为事件注册提供了方便之所。其中的 listen 属性包含了事件（键）和对应监听器（值）数组。如果应用需要，你可以添加多个事件到该数组。例如，让我们添加 SomeEvent 事件：
/** * 事件监听器映射 * * @var array */ protected $listen = [ 'App\Events\SomeEvent' => [ 'App\Listeners\SomeEventListener', ], ]; 接下来使用event:generate命令生成对应的事件和监听器：
php artisan event:generate 执行后将会创建app/Events/SomeEvent.php 和 app/Listener/SomeEventListener.php。
 除了上面在 EventServiceProvider 中注册事件的方式，还可以使用 Event 门面或者 Illuminate\Contracts\Events\Dispatcher 契约的具体实现类作为事件分发器手动注册事件：
 /** * Register any other events for your application. * * @param \Illuminate\Contracts\Events\Dispatcher $events * @return void */ public function boot(DispatcherContract $events) { parent::boot($events); $events->listen('event.">
<link rel=stylesheet href=https://www.takuzen.me/css/style-white.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://www.takuzen.me/images/favicon.ico>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-83047470-2','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://www.takuzen.me/posts/2016-09-02-vietnam-experience/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://www.takuzen.me/posts/2016-10-08-run-ngrok/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&text=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&title=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&is_video=false&description=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&title=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&title=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&name=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad&description=%e7%ae%80%e4%bb%8b%20Laravel%20%e4%ba%8b%e4%bb%b6%e6%8f%90%e4%be%9b%e4%ba%86%e7%ae%80%e5%8d%95%e7%9a%84%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%8c%e5%85%81%e8%ae%b8%e4%bd%a0%e8%ae%a2%e9%98%85%e5%92%8c%e7%9b%91%e5%90%ac%e5%ba%94%e7%94%a8%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e3%80%82%e4%ba%8b%e4%bb%b6%e7%b1%bb%e9%80%9a%e5%b8%b8%e5%ad%98%e6%94%be%e5%9c%a8%20app%2fEvents%20%e7%9b%ae%e5%bd%95%ef%bc%8c%e7%9b%91%e5%90%ac%e5%99%a8%e5%ad%98%e6%94%be%e5%9c%a8%20app%2fListeners%e3%80%82%0a%e9%85%8d%e7%bd%ae%20%e6%89%80%e6%9c%89%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad%e9%85%8d%e7%bd%ae%e9%80%89%e9%a1%b9%e9%83%bd%e5%ad%98%e6%94%be%e5%9c%a8%20config%2fbroadcasting.php%20%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e4%b8%ad%e3%80%82Laravel%20%e6%94%af%e6%8c%81%e5%a4%9a%e7%a7%8d%e5%b9%bf%e6%92%ad%e9%a9%b1%e5%8a%a8%ef%bc%9aPusher%e3%80%81Redis%e4%bb%a5%e5%8f%8a%e4%b8%80%e4%b8%aa%e6%9c%8d%e5%8a%a1%e4%ba%8e%e6%9c%ac%e5%9c%b0%e5%bc%80%e5%8f%91%e5%92%8c%e8%b0%83%e8%af%95%e7%9a%84Log%e6%97%a5%e5%bf%97%e9%a9%b1%e5%8a%a8%e3%80%82%e6%af%8f%e4%b8%80%e4%b8%aa%e9%a9%b1%e5%8a%a8%e9%83%bd%e5%b7%b2%e7%bb%8f%e6%9c%89%e4%b8%80%e4%b8%aa%e9%85%8d%e7%bd%ae%e7%a4%ba%e4%be%8b%e3%80%82%e5%9f%ba%e6%9c%ac%e4%b8%8a%e6%89%80%e6%9c%89%e9%85%8d%e7%bd%ae%e4%bf%a1%e6%81%af%e5%85%a8%e5%8f%af%e4%bb%a5%e5%9c%a8.env%e4%b8%ad%e6%8c%87%e5%ae%9a%ef%bc%8c%e4%b8%8d%e9%9c%80%e8%a6%81%e6%94%b9%e5%8a%a8broadcasting.php%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%ef%bc%8c%e5%a6%82%ef%bc%9a%0a%23%e5%9c%a8.env%e4%b8%ad%e9%85%8d%e7%bd%ae%e9%a9%b1%e5%8a%a8%20BROADCAST_DRIVER%3dredis%20%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%e5%92%8c%e7%9b%91%e5%90%ac%e5%99%a8%20Laravel%20%e8%87%aa%e5%b8%a6%e7%9a%84%20EventServiceProvider%ef%bc%88%e5%9c%a8%20app%2fProviders%2fEventServiceProvider.php%20%e4%b8%ad%ef%bc%89%20%e4%b8%ba%e4%ba%8b%e4%bb%b6%e6%b3%a8%e5%86%8c%e6%8f%90%e4%be%9b%e4%ba%86%e6%96%b9%e4%be%bf%e4%b9%8b%e6%89%80%e3%80%82%e5%85%b6%e4%b8%ad%e7%9a%84%20listen%20%e5%b1%9e%e6%80%a7%e5%8c%85%e5%90%ab%e4%ba%86%e4%ba%8b%e4%bb%b6%ef%bc%88%e9%94%ae%ef%bc%89%e5%92%8c%e5%af%b9%e5%ba%94%e7%9b%91%e5%90%ac%e5%99%a8%ef%bc%88%e5%80%bc%ef%bc%89%e6%95%b0%e7%bb%84%e3%80%82%e5%a6%82%e6%9e%9c%e5%ba%94%e7%94%a8%e9%9c%80%e8%a6%81%ef%bc%8c%e4%bd%a0%e5%8f%af%e4%bb%a5%e6%b7%bb%e5%8a%a0%e5%a4%9a%e4%b8%aa%e4%ba%8b%e4%bb%b6%e5%88%b0%e8%af%a5%e6%95%b0%e7%bb%84%e3%80%82%e4%be%8b%e5%a6%82%ef%bc%8c%e8%ae%a9%e6%88%91%e4%bb%ac%e6%b7%bb%e5%8a%a0%20SomeEvent%20%e4%ba%8b%e4%bb%b6%ef%bc%9a%0a%2f%2a%2a%20%2a%20%e4%ba%8b%e4%bb%b6%e7%9b%91%e5%90%ac%e5%99%a8%e6%98%a0%e5%b0%84%20%2a%20%2a%20%40var%20array%20%2a%2f%20protected%20%24listen%20%3d%20%5b%20%27App%5cEvents%5cSomeEvent%27%20%3d%26gt%3b%20%5b%20%27App%5cListeners%5cSomeEventListener%27%2c%20%5d%2c%20%5d%3b%20%e6%8e%a5%e4%b8%8b%e6%9d%a5%e4%bd%bf%e7%94%a8event%3agenerate%e5%91%bd%e4%bb%a4%e7%94%9f%e6%88%90%e5%af%b9%e5%ba%94%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%92%8c%e7%9b%91%e5%90%ac%e5%99%a8%ef%bc%9a%0aphp%20artisan%20event%3agenerate%20%e6%89%a7%e8%a1%8c%e5%90%8e%e5%b0%86%e4%bc%9a%e5%88%9b%e5%bb%baapp%2fEvents%2fSomeEvent.php%20%e5%92%8c%20app%2fListener%2fSomeEventListener.php%e3%80%82%0a%20%e9%99%a4%e4%ba%86%e4%b8%8a%e9%9d%a2%e5%9c%a8%20EventServiceProvider%20%e4%b8%ad%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%e7%9a%84%e6%96%b9%e5%bc%8f%ef%bc%8c%e8%bf%98%e5%8f%af%e4%bb%a5%e4%bd%bf%e7%94%a8%20Event%20%e9%97%a8%e9%9d%a2%e6%88%96%e8%80%85%20Illuminate%5cContracts%5cEvents%5cDispatcher%20%e5%a5%91%e7%ba%a6%e7%9a%84%e5%85%b7%e4%bd%93%e5%ae%9e%e7%8e%b0%e7%b1%bb%e4%bd%9c%e4%b8%ba%e4%ba%8b%e4%bb%b6%e5%88%86%e5%8f%91%e5%99%a8%e6%89%8b%e5%8a%a8%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%ef%bc%9a%0a%20%2f%2a%2a%20%2a%20Register%20any%20other%20events%20for%20your%20application.%20%2a%20%2a%20%40param%20%5cIlluminate%5cContracts%5cEvents%5cDispatcher%20%24events%20%2a%20%40return%20void%20%2a%2f%20public%20function%20boot%28DispatcherContract%20%24events%29%20%7b%20parent%3a%3aboot%28%24events%29%3b%20%24events-%26gt%3blisten%28%27event." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&t=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#简介>简介</a></li>
<li><a href=#配置>配置</a></li>
<li><a href=#注册事件和监听器>注册事件和监听器</a></li>
<li><a href=#定义事件为广播>定义事件为广播</a></li>
<li><a href=#触发事件>触发事件</a></li>
<li><a href=#应用广播的数据>应用广播的数据</a></li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
laravel 5.2 事件广播
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2016-10-08 00:38:47 +0000 UTC" itemprop=datePublished>2016-10-08</time>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/laravel rel=tag>laravel</a>
,
<a class=tag-link href=/tags/php rel=tag>php</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<h2 id=简介>简介</h2>
<p>Laravel 事件提供了简单的观察者模式实现，允许你订阅和监听应用中的事件。事件类通常存放在 <code>app/Events</code> 目录，监听器存放在 <code>app/Listeners</code>。</p>
<h2 id=配置>配置</h2>
<p>所有的事件广播配置选项都存放在 <code>config/broadcasting.php</code> 配置文件中。Laravel 支持多种广播驱动：<code>Pusher</code>、<code>Redis</code>以及一个服务于本地开发和调试的<code>Log</code>日志驱动。每一个驱动都已经有一个配置示例。基本上所有配置信息全可以在<code>.env</code>中指定，不需要改动<code>broadcasting.php</code>配置文件，如：</p>
<pre><code>#在.env中配置驱动
BROADCAST_DRIVER=redis
</code></pre>
<h2 id=注册事件和监听器>注册事件和监听器</h2>
<p>Laravel 自带的 <code>EventServiceProvider</code>（在 app/Providers/EventServiceProvider.php 中） 为事件注册提供了方便之所。其中的 listen 属性包含了事件（键）和对应监听器（值）数组。如果应用需要，你可以添加多个事件到该数组。例如，让我们添加 <code>SomeEvent</code> 事件：</p>
<pre><code>/**
 * 事件监听器映射
 *
 * @var array
 */
protected $listen = [
    'App\Events\SomeEvent' =&gt; [
        'App\Listeners\SomeEventListener',
    ],
];
</code></pre><p>接下来使用<code>event:generate</code>命令生成对应的事件和监听器：</p>
<pre><code>php artisan event:generate
</code></pre><p>执行后将会创建<code>app/Events/SomeEvent.php</code> 和 <code>app/Listener/SomeEventListener.php</code>。</p>
<blockquote>
<p>除了上面在 <code>EventServiceProvider</code> 中注册事件的方式，还可以使用 <code>Event</code> 门面或者 <code>Illuminate\Contracts\Events\Dispatcher</code> 契约的具体实现类作为事件分发器手动注册事件：</p>
</blockquote>
<pre><code>/**
 * Register any other events for your application.
 *
 * @param  \Illuminate\Contracts\Events\Dispatcher  $events
 * @return void
 */
public function boot(DispatcherContract $events)
{
    parent::boot($events);

    $events-&gt;listen('event.name', function ($foo, $bar) {
        //
    });
}
</code></pre><p>你还可以使用通配符*来注册监听器，从而允许你通过同一个监听器捕获多个事件。通配符监听器接收整个事件数据数组作为参数：</p>
<pre><code>$events-&gt;listen('event.*', function (array $data) {
    //
});
</code></pre><h2 id=定义事件为广播>定义事件为广播</h2>
<p>如果事件需要被广播，則必须让Event类实现一个 <code>Illuminate\Contracts\Broadcasting\ShouldBroadcast</code> 接口，并且实现一个方法 <code>broadcastOn</code> 。broadcastOn返回一个数组，包含了事件发送到的channel(频道)。在SomeEvent类中添加：</p>
<pre><code>
use App\Events\Event;
use Illuminate\Queue\SerializesModels;
use Illuminate\Contracts\Broadcasting\ShouldBroadcast;

//实现ShouldBroadcast接口
class SomeEvent extends Event implements ShouldBroadcast
{
    # other codes ...

    # 添加broadcastOn()方法
    public function broadcastOn()
    {
        return ['test-channel'];
    }
</code></pre><p>默认情况下，Event中的所有public属性都会被序列化后广播。你也可以使用broadcastWith这个方法，明确的指出要广播什么数据。</p>
<pre><code>public function broadcastWith()
{
    return ['bilibili' =&gt; $this-&gt;bilibili];
}
</code></pre><h2 id=触发事件>触发事件</h2>
<p>在控制器或什么地方使用`event()``辅助函数触发即可：</p>
<pre><code>event(new SomeEvent($bilibili));
</code></pre><h2 id=应用广播的数据>应用广播的数据</h2>
<p>使用redis作为驱动的话需要启动一个redis服务。事件广播主要依赖的就是redis的sub/pub功能。配合websocket服务器读取redis中的广播数据与客户端实时通信。</p>
<blockquote>
<p><strong>相关链接</strong>：
<a href=https://laravel.com/docs/5.2/events>laravel Events</a>
<a href=https://segmentfault.com/a/1190000002921506>Laravel5.1 事件广播(Event Broadcasting)</a>
<a href=http://laravelacademy.org/post/3162.html> Laravel 5.2 文档 服务 —— 事件</a></p>
</blockquote>
<blockquote>
</blockquote>
</div>
</article>
<div class=blog-post-comments>
<div id=disqus_thread>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='wzr',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#简介>简介</a></li>
<li><a href=#配置>配置</a></li>
<li><a href=#注册事件和监听器>注册事件和监听器</a></li>
<li><a href=#定义事件为广播>定义事件为广播</a></li>
<li><a href=#触发事件>触发事件</a></li>
<li><a href=#应用广播的数据>应用广播的数据</a></li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&text=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&title=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&is_video=false&description=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&title=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&title=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&name=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad&description=%e7%ae%80%e4%bb%8b%20Laravel%20%e4%ba%8b%e4%bb%b6%e6%8f%90%e4%be%9b%e4%ba%86%e7%ae%80%e5%8d%95%e7%9a%84%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f%e5%ae%9e%e7%8e%b0%ef%bc%8c%e5%85%81%e8%ae%b8%e4%bd%a0%e8%ae%a2%e9%98%85%e5%92%8c%e7%9b%91%e5%90%ac%e5%ba%94%e7%94%a8%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e3%80%82%e4%ba%8b%e4%bb%b6%e7%b1%bb%e9%80%9a%e5%b8%b8%e5%ad%98%e6%94%be%e5%9c%a8%20app%2fEvents%20%e7%9b%ae%e5%bd%95%ef%bc%8c%e7%9b%91%e5%90%ac%e5%99%a8%e5%ad%98%e6%94%be%e5%9c%a8%20app%2fListeners%e3%80%82%0a%e9%85%8d%e7%bd%ae%20%e6%89%80%e6%9c%89%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad%e9%85%8d%e7%bd%ae%e9%80%89%e9%a1%b9%e9%83%bd%e5%ad%98%e6%94%be%e5%9c%a8%20config%2fbroadcasting.php%20%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e4%b8%ad%e3%80%82Laravel%20%e6%94%af%e6%8c%81%e5%a4%9a%e7%a7%8d%e5%b9%bf%e6%92%ad%e9%a9%b1%e5%8a%a8%ef%bc%9aPusher%e3%80%81Redis%e4%bb%a5%e5%8f%8a%e4%b8%80%e4%b8%aa%e6%9c%8d%e5%8a%a1%e4%ba%8e%e6%9c%ac%e5%9c%b0%e5%bc%80%e5%8f%91%e5%92%8c%e8%b0%83%e8%af%95%e7%9a%84Log%e6%97%a5%e5%bf%97%e9%a9%b1%e5%8a%a8%e3%80%82%e6%af%8f%e4%b8%80%e4%b8%aa%e9%a9%b1%e5%8a%a8%e9%83%bd%e5%b7%b2%e7%bb%8f%e6%9c%89%e4%b8%80%e4%b8%aa%e9%85%8d%e7%bd%ae%e7%a4%ba%e4%be%8b%e3%80%82%e5%9f%ba%e6%9c%ac%e4%b8%8a%e6%89%80%e6%9c%89%e9%85%8d%e7%bd%ae%e4%bf%a1%e6%81%af%e5%85%a8%e5%8f%af%e4%bb%a5%e5%9c%a8.env%e4%b8%ad%e6%8c%87%e5%ae%9a%ef%bc%8c%e4%b8%8d%e9%9c%80%e8%a6%81%e6%94%b9%e5%8a%a8broadcasting.php%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%ef%bc%8c%e5%a6%82%ef%bc%9a%0a%23%e5%9c%a8.env%e4%b8%ad%e9%85%8d%e7%bd%ae%e9%a9%b1%e5%8a%a8%20BROADCAST_DRIVER%3dredis%20%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%e5%92%8c%e7%9b%91%e5%90%ac%e5%99%a8%20Laravel%20%e8%87%aa%e5%b8%a6%e7%9a%84%20EventServiceProvider%ef%bc%88%e5%9c%a8%20app%2fProviders%2fEventServiceProvider.php%20%e4%b8%ad%ef%bc%89%20%e4%b8%ba%e4%ba%8b%e4%bb%b6%e6%b3%a8%e5%86%8c%e6%8f%90%e4%be%9b%e4%ba%86%e6%96%b9%e4%be%bf%e4%b9%8b%e6%89%80%e3%80%82%e5%85%b6%e4%b8%ad%e7%9a%84%20listen%20%e5%b1%9e%e6%80%a7%e5%8c%85%e5%90%ab%e4%ba%86%e4%ba%8b%e4%bb%b6%ef%bc%88%e9%94%ae%ef%bc%89%e5%92%8c%e5%af%b9%e5%ba%94%e7%9b%91%e5%90%ac%e5%99%a8%ef%bc%88%e5%80%bc%ef%bc%89%e6%95%b0%e7%bb%84%e3%80%82%e5%a6%82%e6%9e%9c%e5%ba%94%e7%94%a8%e9%9c%80%e8%a6%81%ef%bc%8c%e4%bd%a0%e5%8f%af%e4%bb%a5%e6%b7%bb%e5%8a%a0%e5%a4%9a%e4%b8%aa%e4%ba%8b%e4%bb%b6%e5%88%b0%e8%af%a5%e6%95%b0%e7%bb%84%e3%80%82%e4%be%8b%e5%a6%82%ef%bc%8c%e8%ae%a9%e6%88%91%e4%bb%ac%e6%b7%bb%e5%8a%a0%20SomeEvent%20%e4%ba%8b%e4%bb%b6%ef%bc%9a%0a%2f%2a%2a%20%2a%20%e4%ba%8b%e4%bb%b6%e7%9b%91%e5%90%ac%e5%99%a8%e6%98%a0%e5%b0%84%20%2a%20%2a%20%40var%20array%20%2a%2f%20protected%20%24listen%20%3d%20%5b%20%27App%5cEvents%5cSomeEvent%27%20%3d%26gt%3b%20%5b%20%27App%5cListeners%5cSomeEventListener%27%2c%20%5d%2c%20%5d%3b%20%e6%8e%a5%e4%b8%8b%e6%9d%a5%e4%bd%bf%e7%94%a8event%3agenerate%e5%91%bd%e4%bb%a4%e7%94%9f%e6%88%90%e5%af%b9%e5%ba%94%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%92%8c%e7%9b%91%e5%90%ac%e5%99%a8%ef%bc%9a%0aphp%20artisan%20event%3agenerate%20%e6%89%a7%e8%a1%8c%e5%90%8e%e5%b0%86%e4%bc%9a%e5%88%9b%e5%bb%baapp%2fEvents%2fSomeEvent.php%20%e5%92%8c%20app%2fListener%2fSomeEventListener.php%e3%80%82%0a%20%e9%99%a4%e4%ba%86%e4%b8%8a%e9%9d%a2%e5%9c%a8%20EventServiceProvider%20%e4%b8%ad%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%e7%9a%84%e6%96%b9%e5%bc%8f%ef%bc%8c%e8%bf%98%e5%8f%af%e4%bb%a5%e4%bd%bf%e7%94%a8%20Event%20%e9%97%a8%e9%9d%a2%e6%88%96%e8%80%85%20Illuminate%5cContracts%5cEvents%5cDispatcher%20%e5%a5%91%e7%ba%a6%e7%9a%84%e5%85%b7%e4%bd%93%e5%ae%9e%e7%8e%b0%e7%b1%bb%e4%bd%9c%e4%b8%ba%e4%ba%8b%e4%bb%b6%e5%88%86%e5%8f%91%e5%99%a8%e6%89%8b%e5%8a%a8%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6%ef%bc%9a%0a%20%2f%2a%2a%20%2a%20Register%20any%20other%20events%20for%20your%20application.%20%2a%20%2a%20%40param%20%5cIlluminate%5cContracts%5cEvents%5cDispatcher%20%24events%20%2a%20%40return%20void%20%2a%2f%20public%20function%20boot%28DispatcherContract%20%24events%29%20%7b%20parent%3a%3aboot%28%24events%29%3b%20%24events-%26gt%3blisten%28%27event." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-laravel-event-broadcast%2f&t=laravel%205.2%20%e4%ba%8b%e4%bb%b6%e5%b9%bf%e6%92%ad" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 呉
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
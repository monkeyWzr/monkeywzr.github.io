<!doctype html><html lang=en-us>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Linux下curl实现某资源站自动签到脚本 | マクロス</title>
<link rel=canonical href=https://www.takuzen.me/posts/2015-12-06-curl-on-linux-for-autoregistering/>
<meta name=description content="勉強中">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Linux下curl实现某资源站自动签到脚本">
<meta property="og:description" content="前言 经常去某资源站下载美剧，我很喜欢的的团(ren)队(ren)在运营这个网站，资源很及时也很好。网站要求登录才能看到下载链接。连续登录达到多少天就可以升级并且可以查看更多下载资源。然而我这种人是不可能记着每天都去网站上签到的(-<-)。。。正好最近买了vps，于是决定自己写一个自动登录的脚本。
分析 Fiddler抓包发现此网站登陆时url为/User/Login/ajaxLogin，post提交用户名和密码。
登录成功之后返回JSON字符串
用户等级等相关信息是通过之后的两个请求hotkeyword``getCurUserTopInfo获取的，用于网站顶部的信息和搜索栏。
通过我的测试发现这两个请求并不会影响cookie的变化，不模拟也完全没问题。
签到页面url为/user/sign,签到按钮通过js控制15s后才可以点击，点击后fiddler抓到了/user/sign/dosign的请求，request包里面看起并没有什么新内容，response返回了一个json
json里面的info表示签到结果，1为成功。data为连续签到天数。
开搞 OK！开始祭出杀气__curl__，一开始是用的php，但是向dosign发送请求总是返回错误状态，可能是那里的curl参数配置错了，找个时间再回过头去看一下。。就不说这个了。
后来决定干脆直接上linux写脚本。我水平比较low。。就是简单的3个请求，存一下cookie，也没搞啥复杂东西。
先简单在本地测试了一下
哈哈，大功告成！！
最后把脚本丢到了vps上跑，crontab添加一条定时任务，每天凌晨啪啪啪~~ 麻麻再也不用担心我的签到~~
  ">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.takuzen.me/posts/2015-12-06-curl-on-linux-for-autoregistering/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2015-12-06T09:00:00+00:00">
<meta property="article:modified_time" content="2015-12-06T09:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Linux下curl实现某资源站自动签到脚本">
<meta name=twitter:description content="前言 经常去某资源站下载美剧，我很喜欢的的团(ren)队(ren)在运营这个网站，资源很及时也很好。网站要求登录才能看到下载链接。连续登录达到多少天就可以升级并且可以查看更多下载资源。然而我这种人是不可能记着每天都去网站上签到的(-<-)。。。正好最近买了vps，于是决定自己写一个自动登录的脚本。
分析 Fiddler抓包发现此网站登陆时url为/User/Login/ajaxLogin，post提交用户名和密码。
登录成功之后返回JSON字符串
用户等级等相关信息是通过之后的两个请求hotkeyword``getCurUserTopInfo获取的，用于网站顶部的信息和搜索栏。
通过我的测试发现这两个请求并不会影响cookie的变化，不模拟也完全没问题。
签到页面url为/user/sign,签到按钮通过js控制15s后才可以点击，点击后fiddler抓到了/user/sign/dosign的请求，request包里面看起并没有什么新内容，response返回了一个json
json里面的info表示签到结果，1为成功。data为连续签到天数。
开搞 OK！开始祭出杀气__curl__，一开始是用的php，但是向dosign发送请求总是返回错误状态，可能是那里的curl参数配置错了，找个时间再回过头去看一下。。就不说这个了。
后来决定干脆直接上linux写脚本。我水平比较low。。就是简单的3个请求，存一下cookie，也没搞啥复杂东西。
先简单在本地测试了一下
哈哈，大功告成！！
最后把脚本丢到了vps上跑，crontab添加一条定时任务，每天凌晨啪啪啪~~ 麻麻再也不用担心我的签到~~
  ">
<link rel=stylesheet href=https://www.takuzen.me/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://www.takuzen.me/images/favicon.ico>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-83047470-2','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://www.takuzen.me/posts/2015-12-05-vim-guide/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://www.takuzen.me/posts/2015-12-07-metasploit-on-kali/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&text=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&title=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&is_video=false&description=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&title=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&title=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&name=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac&description=%e5%89%8d%e8%a8%80%20%e7%bb%8f%e5%b8%b8%e5%8e%bb%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e4%b8%8b%e8%bd%bd%e7%be%8e%e5%89%a7%ef%bc%8c%e6%88%91%e5%be%88%e5%96%9c%e6%ac%a2%e7%9a%84%e7%9a%84%e5%9b%a2%28ren%29%e9%98%9f%28ren%29%e5%9c%a8%e8%bf%90%e8%90%a5%e8%bf%99%e4%b8%aa%e7%bd%91%e7%ab%99%ef%bc%8c%e8%b5%84%e6%ba%90%e5%be%88%e5%8f%8a%e6%97%b6%e4%b9%9f%e5%be%88%e5%a5%bd%e3%80%82%e7%bd%91%e7%ab%99%e8%a6%81%e6%b1%82%e7%99%bb%e5%bd%95%e6%89%8d%e8%83%bd%e7%9c%8b%e5%88%b0%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5%e3%80%82%e8%bf%9e%e7%bb%ad%e7%99%bb%e5%bd%95%e8%be%be%e5%88%b0%e5%a4%9a%e5%b0%91%e5%a4%a9%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%8d%87%e7%ba%a7%e5%b9%b6%e4%b8%94%e5%8f%af%e4%bb%a5%e6%9f%a5%e7%9c%8b%e6%9b%b4%e5%a4%9a%e4%b8%8b%e8%bd%bd%e8%b5%84%e6%ba%90%e3%80%82%e7%84%b6%e8%80%8c%e6%88%91%e8%bf%99%e7%a7%8d%e4%ba%ba%e6%98%af%e4%b8%8d%e5%8f%af%e8%83%bd%e8%ae%b0%e7%9d%80%e6%af%8f%e5%a4%a9%e9%83%bd%e5%8e%bb%e7%bd%91%e7%ab%99%e4%b8%8a%e7%ad%be%e5%88%b0%e7%9a%84%28-%26lt%3b-%29%e3%80%82%e3%80%82%e3%80%82%e6%ad%a3%e5%a5%bd%e6%9c%80%e8%bf%91%e4%b9%b0%e4%ba%86vps%ef%bc%8c%e4%ba%8e%e6%98%af%e5%86%b3%e5%ae%9a%e8%87%aa%e5%b7%b1%e5%86%99%e4%b8%80%e4%b8%aa%e8%87%aa%e5%8a%a8%e7%99%bb%e5%bd%95%e7%9a%84%e8%84%9a%e6%9c%ac%e3%80%82%0a%e5%88%86%e6%9e%90%20Fiddler%e6%8a%93%e5%8c%85%e5%8f%91%e7%8e%b0%e6%ad%a4%e7%bd%91%e7%ab%99%e7%99%bb%e9%99%86%e6%97%b6url%e4%b8%ba%2fUser%2fLogin%2fajaxLogin%ef%bc%8cpost%e6%8f%90%e4%ba%a4%e7%94%a8%e6%88%b7%e5%90%8d%e5%92%8c%e5%af%86%e7%a0%81%e3%80%82%0a%e7%99%bb%e5%bd%95%e6%88%90%e5%8a%9f%e4%b9%8b%e5%90%8e%e8%bf%94%e5%9b%9eJSON%e5%ad%97%e7%ac%a6%e4%b8%b2%0a%e7%94%a8%e6%88%b7%e7%ad%89%e7%ba%a7%e7%ad%89%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af%e6%98%af%e9%80%9a%e8%bf%87%e4%b9%8b%e5%90%8e%e7%9a%84%e4%b8%a4%e4%b8%aa%e8%af%b7%e6%b1%82hotkeyword%60%60getCurUserTopInfo%e8%8e%b7%e5%8f%96%e7%9a%84%ef%bc%8c%e7%94%a8%e4%ba%8e%e7%bd%91%e7%ab%99%e9%a1%b6%e9%83%a8%e7%9a%84%e4%bf%a1%e6%81%af%e5%92%8c%e6%90%9c%e7%b4%a2%e6%a0%8f%e3%80%82%0a%e9%80%9a%e8%bf%87%e6%88%91%e7%9a%84%e6%b5%8b%e8%af%95%e5%8f%91%e7%8e%b0%e8%bf%99%e4%b8%a4%e4%b8%aa%e8%af%b7%e6%b1%82%e5%b9%b6%e4%b8%8d%e4%bc%9a%e5%bd%b1%e5%93%8dcookie%e7%9a%84%e5%8f%98%e5%8c%96%ef%bc%8c%e4%b8%8d%e6%a8%a1%e6%8b%9f%e4%b9%9f%e5%ae%8c%e5%85%a8%e6%b2%a1%e9%97%ae%e9%a2%98%e3%80%82%0a%e7%ad%be%e5%88%b0%e9%a1%b5%e9%9d%a2url%e4%b8%ba%2fuser%2fsign%2c%e7%ad%be%e5%88%b0%e6%8c%89%e9%92%ae%e9%80%9a%e8%bf%87js%e6%8e%a7%e5%88%b615s%e5%90%8e%e6%89%8d%e5%8f%af%e4%bb%a5%e7%82%b9%e5%87%bb%ef%bc%8c%e7%82%b9%e5%87%bb%e5%90%8efiddler%e6%8a%93%e5%88%b0%e4%ba%86%2fuser%2fsign%2fdosign%e7%9a%84%e8%af%b7%e6%b1%82%ef%bc%8crequest%e5%8c%85%e9%87%8c%e9%9d%a2%e7%9c%8b%e8%b5%b7%e5%b9%b6%e6%b2%a1%e6%9c%89%e4%bb%80%e4%b9%88%e6%96%b0%e5%86%85%e5%ae%b9%ef%bc%8cresponse%e8%bf%94%e5%9b%9e%e4%ba%86%e4%b8%80%e4%b8%aajson%0ajson%e9%87%8c%e9%9d%a2%e7%9a%84info%e8%a1%a8%e7%a4%ba%e7%ad%be%e5%88%b0%e7%bb%93%e6%9e%9c%ef%bc%8c1%e4%b8%ba%e6%88%90%e5%8a%9f%e3%80%82data%e4%b8%ba%e8%bf%9e%e7%bb%ad%e7%ad%be%e5%88%b0%e5%a4%a9%e6%95%b0%e3%80%82%0a%e5%bc%80%e6%90%9e%20OK%ef%bc%81%e5%bc%80%e5%a7%8b%e7%a5%ad%e5%87%ba%e6%9d%80%e6%b0%94__curl__%ef%bc%8c%e4%b8%80%e5%bc%80%e5%a7%8b%e6%98%af%e7%94%a8%e7%9a%84php%ef%bc%8c%e4%bd%86%e6%98%af%e5%90%91dosign%e5%8f%91%e9%80%81%e8%af%b7%e6%b1%82%e6%80%bb%e6%98%af%e8%bf%94%e5%9b%9e%e9%94%99%e8%af%af%e7%8a%b6%e6%80%81%ef%bc%8c%e5%8f%af%e8%83%bd%e6%98%af%e9%82%a3%e9%87%8c%e7%9a%84curl%e5%8f%82%e6%95%b0%e9%85%8d%e7%bd%ae%e9%94%99%e4%ba%86%ef%bc%8c%e6%89%be%e4%b8%aa%e6%97%b6%e9%97%b4%e5%86%8d%e5%9b%9e%e8%bf%87%e5%a4%b4%e5%8e%bb%e7%9c%8b%e4%b8%80%e4%b8%8b%e3%80%82%e3%80%82%e5%b0%b1%e4%b8%8d%e8%af%b4%e8%bf%99%e4%b8%aa%e4%ba%86%e3%80%82%0a%e5%90%8e%e6%9d%a5%e5%86%b3%e5%ae%9a%e5%b9%b2%e8%84%86%e7%9b%b4%e6%8e%a5%e4%b8%8alinux%e5%86%99%e8%84%9a%e6%9c%ac%e3%80%82%e6%88%91%e6%b0%b4%e5%b9%b3%e6%af%94%e8%be%83low%e3%80%82%e3%80%82%e5%b0%b1%e6%98%af%e7%ae%80%e5%8d%95%e7%9a%843%e4%b8%aa%e8%af%b7%e6%b1%82%ef%bc%8c%e5%ad%98%e4%b8%80%e4%b8%8bcookie%ef%bc%8c%e4%b9%9f%e6%b2%a1%e6%90%9e%e5%95%a5%e5%a4%8d%e6%9d%82%e4%b8%9c%e8%a5%bf%e3%80%82%0a%e5%85%88%e7%ae%80%e5%8d%95%e5%9c%a8%e6%9c%ac%e5%9c%b0%e6%b5%8b%e8%af%95%e4%ba%86%e4%b8%80%e4%b8%8b%0a%e5%93%88%e5%93%88%ef%bc%8c%e5%a4%a7%e5%8a%9f%e5%91%8a%e6%88%90%ef%bc%81%ef%bc%81%0a%e6%9c%80%e5%90%8e%e6%8a%8a%e8%84%9a%e6%9c%ac%e4%b8%a2%e5%88%b0%e4%ba%86vps%e4%b8%8a%e8%b7%91%ef%bc%8ccrontab%e6%b7%bb%e5%8a%a0%e4%b8%80%e6%9d%a1%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1%ef%bc%8c%e6%af%8f%e5%a4%a9%e5%87%8c%e6%99%a8%e5%95%aa%e5%95%aa%e5%95%aa~~%20%e9%ba%bb%e9%ba%bb%e5%86%8d%e4%b9%9f%e4%b8%8d%e7%94%a8%e6%8b%85%e5%bf%83%e6%88%91%e7%9a%84%e7%ad%be%e5%88%b0~~%0a%20%20" aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&t=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#前言>前言</a></li>
<li><a href=#分析>分析</a></li>
<li><a href=#开搞>开搞</a></li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
Linux下curl实现某资源站自动签到脚本
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2015-12-06 09:00:00 +0000 UTC" itemprop=datePublished>2015-12-06</time>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/linux rel=tag>Linux</a>
,
<a class=tag-link href=/tags/curl rel=tag>curl</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<h2 id=前言>前言</h2>
<p>经常去某资源站下载美剧，我很喜欢的的团(ren)队(ren)在运营这个网站，资源很及时也很好。网站要求登录才能看到下载链接。连续登录达到多少天就可以升级并且可以查看更多下载资源。然而我这种人是不可能记着每天都去网站上签到的(-&lt;-)。。。正好最近买了vps，于是决定自己写一个自动登录的脚本。</p>
<h2 id=分析>分析</h2>
<p>Fiddler抓包发现此网站登陆时url为/User/Login/ajaxLogin，post提交用户名和密码。</p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_1.png alt=img></p>
<p>登录成功之后返回JSON字符串</p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_3.png alt=img></p>
<p>用户等级等相关信息是通过之后的两个请求<code>hotkeyword``getCurUserTopInfo</code>获取的，用于网站顶部的信息和搜索栏。</p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_4.png alt=img></p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_5.png alt=img></p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_6.png alt=img></p>
<p>通过我的测试发现这两个请求并不会影响cookie的变化，不模拟也完全没问题。</p>
<p>签到页面url为/user/sign,签到按钮通过js控制15s后才可以点击，点击后fiddler抓到了/user/sign/dosign的请求，request包里面看起并没有什么新内容，response返回了一个json</p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_7.png alt=img></p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_8.png alt=img></p>
<p>json里面的info表示签到结果，1为成功。data为连续签到天数。</p>
<h2 id=开搞>开搞</h2>
<p>OK！开始祭出杀气__curl__，一开始是用的php，但是向dosign发送请求总是返回错误状态，可能是那里的curl参数配置错了，找个时间再回过头去看一下。。就不说这个了。</p>
<p>后来决定干脆直接上linux写脚本。我水平比较low。。就是简单的3个请求，存一下cookie，也没搞啥复杂东西。</p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_9.png alt=img></p>
<p>先简单在本地测试了一下</p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_10.png alt=img></p>
<p><img src=/img/2015-12-04-zimuzu-auto-login_11.png alt=img></p>
<p>哈哈，大功告成！！</p>
<p>最后把脚本丢到了vps上跑，crontab添加一条定时任务，每天凌晨啪啪啪~~ 麻麻再也不用担心我的签到~~</p>
<blockquote>
</blockquote>
</div>
</article>
<div class=blog-post-comments>
<div id=disqus_thread>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='wzr',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#前言>前言</a></li>
<li><a href=#分析>分析</a></li>
<li><a href=#开搞>开搞</a></li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&text=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&title=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&is_video=false&description=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&title=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&title=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&name=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac&description=%e5%89%8d%e8%a8%80%20%e7%bb%8f%e5%b8%b8%e5%8e%bb%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e4%b8%8b%e8%bd%bd%e7%be%8e%e5%89%a7%ef%bc%8c%e6%88%91%e5%be%88%e5%96%9c%e6%ac%a2%e7%9a%84%e7%9a%84%e5%9b%a2%28ren%29%e9%98%9f%28ren%29%e5%9c%a8%e8%bf%90%e8%90%a5%e8%bf%99%e4%b8%aa%e7%bd%91%e7%ab%99%ef%bc%8c%e8%b5%84%e6%ba%90%e5%be%88%e5%8f%8a%e6%97%b6%e4%b9%9f%e5%be%88%e5%a5%bd%e3%80%82%e7%bd%91%e7%ab%99%e8%a6%81%e6%b1%82%e7%99%bb%e5%bd%95%e6%89%8d%e8%83%bd%e7%9c%8b%e5%88%b0%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5%e3%80%82%e8%bf%9e%e7%bb%ad%e7%99%bb%e5%bd%95%e8%be%be%e5%88%b0%e5%a4%9a%e5%b0%91%e5%a4%a9%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%8d%87%e7%ba%a7%e5%b9%b6%e4%b8%94%e5%8f%af%e4%bb%a5%e6%9f%a5%e7%9c%8b%e6%9b%b4%e5%a4%9a%e4%b8%8b%e8%bd%bd%e8%b5%84%e6%ba%90%e3%80%82%e7%84%b6%e8%80%8c%e6%88%91%e8%bf%99%e7%a7%8d%e4%ba%ba%e6%98%af%e4%b8%8d%e5%8f%af%e8%83%bd%e8%ae%b0%e7%9d%80%e6%af%8f%e5%a4%a9%e9%83%bd%e5%8e%bb%e7%bd%91%e7%ab%99%e4%b8%8a%e7%ad%be%e5%88%b0%e7%9a%84%28-%26lt%3b-%29%e3%80%82%e3%80%82%e3%80%82%e6%ad%a3%e5%a5%bd%e6%9c%80%e8%bf%91%e4%b9%b0%e4%ba%86vps%ef%bc%8c%e4%ba%8e%e6%98%af%e5%86%b3%e5%ae%9a%e8%87%aa%e5%b7%b1%e5%86%99%e4%b8%80%e4%b8%aa%e8%87%aa%e5%8a%a8%e7%99%bb%e5%bd%95%e7%9a%84%e8%84%9a%e6%9c%ac%e3%80%82%0a%e5%88%86%e6%9e%90%20Fiddler%e6%8a%93%e5%8c%85%e5%8f%91%e7%8e%b0%e6%ad%a4%e7%bd%91%e7%ab%99%e7%99%bb%e9%99%86%e6%97%b6url%e4%b8%ba%2fUser%2fLogin%2fajaxLogin%ef%bc%8cpost%e6%8f%90%e4%ba%a4%e7%94%a8%e6%88%b7%e5%90%8d%e5%92%8c%e5%af%86%e7%a0%81%e3%80%82%0a%e7%99%bb%e5%bd%95%e6%88%90%e5%8a%9f%e4%b9%8b%e5%90%8e%e8%bf%94%e5%9b%9eJSON%e5%ad%97%e7%ac%a6%e4%b8%b2%0a%e7%94%a8%e6%88%b7%e7%ad%89%e7%ba%a7%e7%ad%89%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af%e6%98%af%e9%80%9a%e8%bf%87%e4%b9%8b%e5%90%8e%e7%9a%84%e4%b8%a4%e4%b8%aa%e8%af%b7%e6%b1%82hotkeyword%60%60getCurUserTopInfo%e8%8e%b7%e5%8f%96%e7%9a%84%ef%bc%8c%e7%94%a8%e4%ba%8e%e7%bd%91%e7%ab%99%e9%a1%b6%e9%83%a8%e7%9a%84%e4%bf%a1%e6%81%af%e5%92%8c%e6%90%9c%e7%b4%a2%e6%a0%8f%e3%80%82%0a%e9%80%9a%e8%bf%87%e6%88%91%e7%9a%84%e6%b5%8b%e8%af%95%e5%8f%91%e7%8e%b0%e8%bf%99%e4%b8%a4%e4%b8%aa%e8%af%b7%e6%b1%82%e5%b9%b6%e4%b8%8d%e4%bc%9a%e5%bd%b1%e5%93%8dcookie%e7%9a%84%e5%8f%98%e5%8c%96%ef%bc%8c%e4%b8%8d%e6%a8%a1%e6%8b%9f%e4%b9%9f%e5%ae%8c%e5%85%a8%e6%b2%a1%e9%97%ae%e9%a2%98%e3%80%82%0a%e7%ad%be%e5%88%b0%e9%a1%b5%e9%9d%a2url%e4%b8%ba%2fuser%2fsign%2c%e7%ad%be%e5%88%b0%e6%8c%89%e9%92%ae%e9%80%9a%e8%bf%87js%e6%8e%a7%e5%88%b615s%e5%90%8e%e6%89%8d%e5%8f%af%e4%bb%a5%e7%82%b9%e5%87%bb%ef%bc%8c%e7%82%b9%e5%87%bb%e5%90%8efiddler%e6%8a%93%e5%88%b0%e4%ba%86%2fuser%2fsign%2fdosign%e7%9a%84%e8%af%b7%e6%b1%82%ef%bc%8crequest%e5%8c%85%e9%87%8c%e9%9d%a2%e7%9c%8b%e8%b5%b7%e5%b9%b6%e6%b2%a1%e6%9c%89%e4%bb%80%e4%b9%88%e6%96%b0%e5%86%85%e5%ae%b9%ef%bc%8cresponse%e8%bf%94%e5%9b%9e%e4%ba%86%e4%b8%80%e4%b8%aajson%0ajson%e9%87%8c%e9%9d%a2%e7%9a%84info%e8%a1%a8%e7%a4%ba%e7%ad%be%e5%88%b0%e7%bb%93%e6%9e%9c%ef%bc%8c1%e4%b8%ba%e6%88%90%e5%8a%9f%e3%80%82data%e4%b8%ba%e8%bf%9e%e7%bb%ad%e7%ad%be%e5%88%b0%e5%a4%a9%e6%95%b0%e3%80%82%0a%e5%bc%80%e6%90%9e%20OK%ef%bc%81%e5%bc%80%e5%a7%8b%e7%a5%ad%e5%87%ba%e6%9d%80%e6%b0%94__curl__%ef%bc%8c%e4%b8%80%e5%bc%80%e5%a7%8b%e6%98%af%e7%94%a8%e7%9a%84php%ef%bc%8c%e4%bd%86%e6%98%af%e5%90%91dosign%e5%8f%91%e9%80%81%e8%af%b7%e6%b1%82%e6%80%bb%e6%98%af%e8%bf%94%e5%9b%9e%e9%94%99%e8%af%af%e7%8a%b6%e6%80%81%ef%bc%8c%e5%8f%af%e8%83%bd%e6%98%af%e9%82%a3%e9%87%8c%e7%9a%84curl%e5%8f%82%e6%95%b0%e9%85%8d%e7%bd%ae%e9%94%99%e4%ba%86%ef%bc%8c%e6%89%be%e4%b8%aa%e6%97%b6%e9%97%b4%e5%86%8d%e5%9b%9e%e8%bf%87%e5%a4%b4%e5%8e%bb%e7%9c%8b%e4%b8%80%e4%b8%8b%e3%80%82%e3%80%82%e5%b0%b1%e4%b8%8d%e8%af%b4%e8%bf%99%e4%b8%aa%e4%ba%86%e3%80%82%0a%e5%90%8e%e6%9d%a5%e5%86%b3%e5%ae%9a%e5%b9%b2%e8%84%86%e7%9b%b4%e6%8e%a5%e4%b8%8alinux%e5%86%99%e8%84%9a%e6%9c%ac%e3%80%82%e6%88%91%e6%b0%b4%e5%b9%b3%e6%af%94%e8%be%83low%e3%80%82%e3%80%82%e5%b0%b1%e6%98%af%e7%ae%80%e5%8d%95%e7%9a%843%e4%b8%aa%e8%af%b7%e6%b1%82%ef%bc%8c%e5%ad%98%e4%b8%80%e4%b8%8bcookie%ef%bc%8c%e4%b9%9f%e6%b2%a1%e6%90%9e%e5%95%a5%e5%a4%8d%e6%9d%82%e4%b8%9c%e8%a5%bf%e3%80%82%0a%e5%85%88%e7%ae%80%e5%8d%95%e5%9c%a8%e6%9c%ac%e5%9c%b0%e6%b5%8b%e8%af%95%e4%ba%86%e4%b8%80%e4%b8%8b%0a%e5%93%88%e5%93%88%ef%bc%8c%e5%a4%a7%e5%8a%9f%e5%91%8a%e6%88%90%ef%bc%81%ef%bc%81%0a%e6%9c%80%e5%90%8e%e6%8a%8a%e8%84%9a%e6%9c%ac%e4%b8%a2%e5%88%b0%e4%ba%86vps%e4%b8%8a%e8%b7%91%ef%bc%8ccrontab%e6%b7%bb%e5%8a%a0%e4%b8%80%e6%9d%a1%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1%ef%bc%8c%e6%af%8f%e5%a4%a9%e5%87%8c%e6%99%a8%e5%95%aa%e5%95%aa%e5%95%aa~~%20%e9%ba%bb%e9%ba%bb%e5%86%8d%e4%b9%9f%e4%b8%8d%e7%94%a8%e6%8b%85%e5%bf%83%e6%88%91%e7%9a%84%e7%ad%be%e5%88%b0~~%0a%20%20" aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2015-12-06-curl-on-linux-for-autoregistering%2f&t=Linux%e4%b8%8bcurl%e5%ae%9e%e7%8e%b0%e6%9f%90%e8%b5%84%e6%ba%90%e7%ab%99%e8%87%aa%e5%8a%a8%e7%ad%be%e5%88%b0%e8%84%9a%e6%9c%ac" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 呉
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
</html>
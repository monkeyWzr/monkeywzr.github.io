<!doctype html><html lang=en-us>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> 基本的bash shell命令 | マクロス</title>
<link rel=canonical href=https://www.takuzen.me/posts/2016-03-05-bash-shell/>
<meta name=description content="勉強中">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="基本的bash shell命令">
<meta property="og:description" content="基本的bash shell命令 处理文件和目录  ls 输出目录  -s 显示文件大小 -a 输出隐藏文件 -i 显示文件的索引值 -l 产生长列表的输出 -R 递归列出子目录内容   touch 创建新文件或者改变访问/修改时间  -a 只改变访问时间 -m 只改变修改时间 -t 指定时间戳   cp 复制文件  -f 强制覆盖不提示 -i 覆盖前提示 -r 递归的复制文件 -R 递归的复制目录 -l 创建文件链接（硬链接） -s 创建符号链接（软连接） -v 详细模式   mv 移动文件（重命名） rm 删除文件  -i 删除前提示 -f 强制删除不提示 -r 递归删除非空目录   mkdir 创建目录 stat 提供文件的所有状态信息 file 查看文件类型 cat 显示文本数据  -n 给所有行加上行号 -b 给有文本的行加上行号 -s 多个空白行压缩为一行 -T 用^I替换制表符   more 分页显示  空格 显示下一屏 ENTER 显示下一行 /expression 查找 n 查找下一处匹配的内容 ' 调到匹配的第一处内容 !">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.takuzen.me/posts/2016-03-05-bash-shell/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2016-03-05T09:00:00+00:00">
<meta property="article:modified_time" content="2016-03-05T09:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="基本的bash shell命令">
<meta name=twitter:description content="基本的bash shell命令 处理文件和目录  ls 输出目录  -s 显示文件大小 -a 输出隐藏文件 -i 显示文件的索引值 -l 产生长列表的输出 -R 递归列出子目录内容   touch 创建新文件或者改变访问/修改时间  -a 只改变访问时间 -m 只改变修改时间 -t 指定时间戳   cp 复制文件  -f 强制覆盖不提示 -i 覆盖前提示 -r 递归的复制文件 -R 递归的复制目录 -l 创建文件链接（硬链接） -s 创建符号链接（软连接） -v 详细模式   mv 移动文件（重命名） rm 删除文件  -i 删除前提示 -f 强制删除不提示 -r 递归删除非空目录   mkdir 创建目录 stat 提供文件的所有状态信息 file 查看文件类型 cat 显示文本数据  -n 给所有行加上行号 -b 给有文本的行加上行号 -s 多个空白行压缩为一行 -T 用^I替换制表符   more 分页显示  空格 显示下一屏 ENTER 显示下一行 /expression 查找 n 查找下一处匹配的内容 ' 调到匹配的第一处内容 !">
<link rel=stylesheet href=https://www.takuzen.me/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://www.takuzen.me/images/favicon.ico>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-83047470-2','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://www.takuzen.me/posts/2016-03-04-refresh-old-laptop/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://www.takuzen.me/posts/2016-03-09-docker-guide/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&text=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&title=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&is_video=false&description=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&title=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&title=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&name=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4&description=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4%20%e5%a4%84%e7%90%86%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%20%20ls%20%e8%be%93%e5%87%ba%e7%9b%ae%e5%bd%95%20%20-s%20%e6%98%be%e7%a4%ba%e6%96%87%e4%bb%b6%e5%a4%a7%e5%b0%8f%20-a%20%e8%be%93%e5%87%ba%e9%9a%90%e8%97%8f%e6%96%87%e4%bb%b6%20-i%20%e6%98%be%e7%a4%ba%e6%96%87%e4%bb%b6%e7%9a%84%e7%b4%a2%e5%bc%95%e5%80%bc%20-l%20%e4%ba%a7%e7%94%9f%e9%95%bf%e5%88%97%e8%a1%a8%e7%9a%84%e8%be%93%e5%87%ba%20-R%20%e9%80%92%e5%bd%92%e5%88%97%e5%87%ba%e5%ad%90%e7%9b%ae%e5%bd%95%e5%86%85%e5%ae%b9%20%20%20touch%20%e5%88%9b%e5%bb%ba%e6%96%b0%e6%96%87%e4%bb%b6%e6%88%96%e8%80%85%e6%94%b9%e5%8f%98%e8%ae%bf%e9%97%ae%2f%e4%bf%ae%e6%94%b9%e6%97%b6%e9%97%b4%20%20-a%20%e5%8f%aa%e6%94%b9%e5%8f%98%e8%ae%bf%e9%97%ae%e6%97%b6%e9%97%b4%20-m%20%e5%8f%aa%e6%94%b9%e5%8f%98%e4%bf%ae%e6%94%b9%e6%97%b6%e9%97%b4%20-t%20%e6%8c%87%e5%ae%9a%e6%97%b6%e9%97%b4%e6%88%b3%20%20%20cp%20%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%20%20-f%20%e5%bc%ba%e5%88%b6%e8%a6%86%e7%9b%96%e4%b8%8d%e6%8f%90%e7%a4%ba%20-i%20%e8%a6%86%e7%9b%96%e5%89%8d%e6%8f%90%e7%a4%ba%20-r%20%e9%80%92%e5%bd%92%e7%9a%84%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%20-R%20%e9%80%92%e5%bd%92%e7%9a%84%e5%a4%8d%e5%88%b6%e7%9b%ae%e5%bd%95%20-l%20%e5%88%9b%e5%bb%ba%e6%96%87%e4%bb%b6%e9%93%be%e6%8e%a5%ef%bc%88%e7%a1%ac%e9%93%be%e6%8e%a5%ef%bc%89%20-s%20%e5%88%9b%e5%bb%ba%e7%ac%a6%e5%8f%b7%e9%93%be%e6%8e%a5%ef%bc%88%e8%bd%af%e8%bf%9e%e6%8e%a5%ef%bc%89%20-v%20%e8%af%a6%e7%bb%86%e6%a8%a1%e5%bc%8f%20%20%20mv%20%e7%a7%bb%e5%8a%a8%e6%96%87%e4%bb%b6%ef%bc%88%e9%87%8d%e5%91%bd%e5%90%8d%ef%bc%89%20rm%20%e5%88%a0%e9%99%a4%e6%96%87%e4%bb%b6%20%20-i%20%e5%88%a0%e9%99%a4%e5%89%8d%e6%8f%90%e7%a4%ba%20-f%20%e5%bc%ba%e5%88%b6%e5%88%a0%e9%99%a4%e4%b8%8d%e6%8f%90%e7%a4%ba%20-r%20%e9%80%92%e5%bd%92%e5%88%a0%e9%99%a4%e9%9d%9e%e7%a9%ba%e7%9b%ae%e5%bd%95%20%20%20mkdir%20%e5%88%9b%e5%bb%ba%e7%9b%ae%e5%bd%95%20stat%20%e6%8f%90%e4%be%9b%e6%96%87%e4%bb%b6%e7%9a%84%e6%89%80%e6%9c%89%e7%8a%b6%e6%80%81%e4%bf%a1%e6%81%af%20file%20%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b%20cat%20%e6%98%be%e7%a4%ba%e6%96%87%e6%9c%ac%e6%95%b0%e6%8d%ae%20%20-n%20%e7%bb%99%e6%89%80%e6%9c%89%e8%a1%8c%e5%8a%a0%e4%b8%8a%e8%a1%8c%e5%8f%b7%20-b%20%e7%bb%99%e6%9c%89%e6%96%87%e6%9c%ac%e7%9a%84%e8%a1%8c%e5%8a%a0%e4%b8%8a%e8%a1%8c%e5%8f%b7%20-s%20%e5%a4%9a%e4%b8%aa%e7%a9%ba%e7%99%bd%e8%a1%8c%e5%8e%8b%e7%bc%a9%e4%b8%ba%e4%b8%80%e8%a1%8c%20-T%20%e7%94%a8%5eI%e6%9b%bf%e6%8d%a2%e5%88%b6%e8%a1%a8%e7%ac%a6%20%20%20more%20%e5%88%86%e9%a1%b5%e6%98%be%e7%a4%ba%20%20%e7%a9%ba%e6%a0%bc%20%e6%98%be%e7%a4%ba%e4%b8%8b%e4%b8%80%e5%b1%8f%20ENTER%20%e6%98%be%e7%a4%ba%e4%b8%8b%e4%b8%80%e8%a1%8c%20%2fexpression%20%e6%9f%a5%e6%89%be%20n%20%e6%9f%a5%e6%89%be%e4%b8%8b%e4%b8%80%e5%a4%84%e5%8c%b9%e9%85%8d%e7%9a%84%e5%86%85%e5%ae%b9%20%27%20%e8%b0%83%e5%88%b0%e5%8c%b9%e9%85%8d%e7%9a%84%e7%ac%ac%e4%b8%80%e5%a4%84%e5%86%85%e5%ae%b9%20%21" aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&t=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#基本的bash-shell命令>基本的bash shell命令</a>
<ul>
<li><a href=#处理文件和目录>处理文件和目录</a></li>
<li><a href=#进程和设备管理>进程和设备管理</a></li>
<li><a href=#系统和权限>系统和权限</a></li>
</ul>
</li>
<li><a href=#脚本实战>脚本实战</a>
<ul>
<li><a href=#终端打印>终端打印</a></li>
<li><a href=#变量和环境变量>变量和环境变量</a></li>
<li><a href=#数学运算>数学运算</a></li>
<li><a href=#设置别名>设置别名</a></li>
<li><a href=#heading></a></li>
</ul>
</li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
基本的bash shell命令
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2016-03-05 09:00:00 +0000 UTC" itemprop=datePublished>2016-03-05</time>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/linux rel=tag>Linux</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<h2 id=基本的bash-shell命令>基本的bash shell命令</h2>
<h3 id=处理文件和目录>处理文件和目录</h3>
<ul>
<li><code>ls</code> 输出目录
<ul>
<li>-s 显示文件大小</li>
<li>-a 输出隐藏文件</li>
<li>-i 显示文件的索引值</li>
<li>-l 产生长列表的输出</li>
<li>-R 递归列出子目录内容</li>
</ul>
</li>
<li><code>touch</code> 创建新文件或者改变访问/修改时间
<ul>
<li>-a 只改变访问时间</li>
<li>-m 只改变修改时间</li>
<li>-t 指定时间戳</li>
</ul>
</li>
<li><code>cp</code> 复制文件
<ul>
<li>-f 强制覆盖不提示</li>
<li>-i 覆盖前提示</li>
<li>-r 递归的复制文件</li>
<li>-R 递归的复制目录</li>
<li>-l 创建文件链接（硬链接）</li>
<li>-s 创建符号链接（软连接）</li>
<li>-v 详细模式</li>
</ul>
</li>
<li><code>mv</code> 移动文件（重命名）</li>
<li><code>rm</code> 删除文件
<ul>
<li>-i 删除前提示</li>
<li>-f 强制删除不提示</li>
<li>-r 递归删除非空目录</li>
</ul>
</li>
<li><code>mkdir</code> 创建目录</li>
<li><code>stat</code> 提供文件的所有状态信息</li>
<li><code>file</code> 查看文件类型</li>
<li><code>cat</code> 显示文本数据
<ul>
<li>-n 给所有行加上行号</li>
<li>-b 给有文本的行加上行号</li>
<li>-s 多个空白行压缩为一行</li>
<li>-T 用^I替换制表符</li>
</ul>
</li>
<li><code>more</code> 分页显示
<ul>
<li>空格 显示下一屏</li>
<li>ENTER 显示下一行</li>
<li>/expression 查找</li>
<li>n 查找下一处匹配的内容</li>
<li>' 调到匹配的第一处内容</li>
<li>!cmd 执行shell</li>
<li>v 在当前行启动vi</li>
<li>= 显示当前行号</li>
<li>. 执行前一条命令</li>
</ul>
</li>
<li><code>sort</code> 读文本文件中的数据行排序
<ul>
<li>-n 数字识别为数字</li>
<li>-M 按月排序（常用于日志文件）</li>
<li>-r 反序</li>
<li>-b 忽略起始的空白</li>
<li>-t 指定字段分隔符</li>
<li>-k 指定排序字段</li>
</ul>
</li>
<li><code>tail</code> 显示文件末尾的内容
<ul>
<li>-c <em>bytes</em> 显示文件最后的bytes字节的内容</li>
<li>-n <em>lines</em> 显示文件最后的lines行</li>
<li>-f 保持活动，有新内容添加到末尾就显示</li>
<li>-s sec 与-f一起，每次输出前休眠sec秒ps</li>
<li>-v 显示带文件名的头</li>
<li>-q 从不显示带文件名的头</li>
</ul>
</li>
<li><code>head</code> 显示文件开头的内容，类似tail</li>
<li><code>grep</code> <em>[option] pattern [file]</em> 查找文件中大的一行数据
<ul>
<li>-v 输出不匹配的行</li>
<li>-n 显示匹配行的行号</li>
<li>-c 输出匹配的行数</li>
<li>-e 指定多个匹配字符串（满足任意一个），通常用正则表达式替代</li>
<li>-i 忽略大小写</li>
</ul>
</li>
<li><code>tr</code> 替换或删除文件或文本中的字符</li>
<li><code>egrep</code> 支持POSIX扩展正则表达式</li>
<li><code>tar</code> <em>function [options] obj1 obj2</em> 归档
<ul>
<li>-A 将一个tar文件追加到另一个tar文件</li>
<li>-c 创建新的tar归档文件</li>
<li>-r 追加文件到tar文件末尾</li>
<li>-x 从tar文件中提取文件</li>
<li>-C 切换到指定目录</li>
<li>-f 输出结果到文件或设备</li>
<li>-j 将输出重定向为bzip2</li>
<li>-z 将输出重定向给gzip</li>
<li>-p保留所有文件权限</li>
<li>-v 处理文件时显示文件</li>
</ul>
</li>
</ul>
<p>实例：</p>
<pre><code>    //解压.tgz
    tar -zxvf filename.tgz
</code></pre>
<ul>
<li><code>ln</code> <em>option source_file dist_file</em>
<ul>
<li>-b 覆盖已有的链接</li>
<li>-f 强制执行</li>
<li>-i 交互模式，提示是否覆盖等</li>
<li>-n 把符号链接视为一般目录</li>
<li>-s 软链接（即符号链接）</li>
<li>-v 显示详细过程</li>
</ul>
</li>
</ul>
<h3 id=进程和设备管理>进程和设备管理</h3>
<ul>
<li>
<p><code>ps</code> 检测进程</p>
<ul>
<li>-A 显示所有进程</li>
<li>-e 显示所有进程</li>
<li>-p <em>pidlist</em> 显示指定pid的进程</li>
<li>-f 显示完整格式的输出</li>
<li>-F 显示更多额外输出（相对-f而言）</li>
<li>-l 显示长列表</li>
<li>-L 显示进程中的线程</li>
<li>-H 用层级格式显示进程</li>
<li>&ndash;forest 图表形式显示层级信息</li>
</ul>
</li>
<li>
<p><code>top</code> 实时显示进程信息，<strong>很有用</strong>，详见man</p>
</li>
<li>
<p><code>pgrep</code> <em>pattern</em> 获取进程id</p>
</li>
<li>
<p><code>kill</code> <em>pid</em> 结束进程（默认发送TERM信号）</p>
<ul>
<li>-s <em>signal</em> 发送其他信号</li>
</ul>
</li>
<li>
<p><code>killall</code> <em>name</em> 通过进程名结束进程</p>
</li>
<li>
<p><code>mount</code> 挂载媒体设备，详见man
实例：</p>
<pre><code>  //挂载iso文件
  mount -t iso9660 -o loop file_name.iso /path/to/
</code></pre>
</li>
<li>
<p><code>unmonut</code> 卸载设备</p>
<blockquote>
<p>当提示设备繁忙无法卸载设备时可使用<code>lsof</code>命令获得使用它的进程信息</p>
</blockquote>
</li>
<li>
<p><code>df</code> 查看已挂载磁盘的使用情况</p>
<ul>
<li>-h human-readable</li>
</ul>
</li>
<li>
<p><code>du</code> 显示当前目录下所有文件、目录、子目录占用的磁盘块数</p>
<ul>
<li>-c 显示所有已列出文件的总大小</li>
<li>-h human-readable</li>
<li>-s 显示每个输出参数的总计</li>
</ul>
</li>
</ul>
<h3 id=系统和权限>系统和权限</h3>
<ul>
<li>
<p><code>set</code> 显示进程的所有环境变量</p>
</li>
<li>
<p><code>export</code> <em>var</em> 将局部变量导出为全局变量</p>
</li>
<li>
<p><code>unset</code> <em>var</em> 删除环境变量</p>
</li>
<li>
<p><code>alias</code> 设置命令别名</p>
<ul>
<li>
<p>-p 显示已有的别名列表
实例：</p>
<p>//定义命令别名
alias li=&lsquo;ls -il&rsquo;</p>
</li>
</ul>
</li>
<li>
<p><code>useradd</code> 创建用户</p>
<ul>
<li>-c <em>comment</em> 添加备注</li>
<li>-d <em>home_dir</em> 为主目录指定一个名字（默认即home）</li>
<li>-D <em>YYYY-MM-DD</em> 显示设置用户的系统默认值</li>
<li>-g <em>initial_group</em> 指定用户登录组的GID或组名</li>
<li>-G <em>group</em> 指定除登录组外的附加组</li>
<li>-k 与-m一起使用，将/etc/skel目录的内容复制到HOME目录，（bash shell的标准启动文件）</li>
<li>-m 创建HOME目录</li>
<li>-r 创建系统用户</li>
<li>-p <em>passwd</em> 指定默认密码</li>
<li>-s <em>shell</em> 指定默认登录shell</li>
<li>-u <em>uid</em> 为账户指定唯一的uid</li>
</ul>
</li>
<li>
<p><code>userdel</code> 删除用户（默认只删除/etc/passwd文件中的用户信息）</p>
<ul>
<li>-r 删除HOME目录和mail目录</li>
</ul>
</li>
<li>
<p><code>usermod</code> 修改用户信息，参数与useradd基本相同</p>
<ul>
<li>-l 修改用户登录名</li>
<li>-L 锁定账户，无法登录</li>
<li>-p 修改账户密码</li>
<li>-U 解除锁定</li>
<li>-G <em>groupname username</em> 将用户添加至组</li>
</ul>
</li>
<li>
<p><code>groupadd</code> 添加新组</p>
</li>
<li>
<p><code>umask</code> 设置默认权限（掩码）</p>
</li>
<li>
<p><code>chmod</code> 设置文件和目录权限</p>
<ul>
<li>+r 添加读取权限</li>
<li>+w 写入权限</li>
<li>+x 执行权限</li>
</ul>
</li>
<li>
<p><code>chown</code> <em>optoins owner[.group] filename</em> 改变文件的属主</p>
<ul>
<li>-h 改变文件的所有符号连接的所属关系</li>
<li>-R 递归</li>
</ul>
</li>
<li>
<p><code>chgrp</code> 改变文件或目录的默认属组</p>
</li>
</ul>
<h2 id=脚本实战>脚本实战</h2>
<blockquote>
<p>shell脚本常见以<code>#!</code>开头，这玩意叫做·<code>shebang</code></p>
</blockquote>
<h3 id=终端打印>终端打印</h3>
<p>echo是用于终端打印的基本命令。默认情况下每次调用echo后都会添加一个换行符。
常用参数：</p>
<ul>
<li>-e 识别转义序列</li>
<li>-n 不追加换行符</li>
</ul>
<p>使用转义序列生成彩色输出：</p>
<pre><code>    #红色文本
    echo -e &quot;this is \e[1;31m red text \e[0m&quot;
    #绿色背景
    echo -e &quot;this is \e[1;42m green background \e[0m&quot;&quot;
</code></pre>
<p>文本颜色：重置=0；黑色=30；红色=31；绿色=32；黄色=33；蓝色=34；洋红=35；青色=36；白色=37；
背景颜色：重置=0；黑色=40；红色=41；绿色=42；黄色=43；蓝色=44；洋红=45；青色=46；白色=47；</p>
<h3 id=变量和环境变量>变量和环境变量</h3>
<p>获取某个进程运行时的环境变量：</p>
<pre><code>    # $PID为摸个进程的id，可用pgrep命令获取
    cat /proc/$PID/environ
</code></pre>
<p>为变量赋值时使用<code>var=value</code>的格式，而不是<code>var = value</code>，后者是相等操作。另外，如果value包含空格，则应使用引号将value括起。</p>
<p>添加环境变量：</p>
<pre><code>    export PATH=&quot;$PATH:/path/to/sp&quot;
</code></pre>
<p>获取字符串长度：</p>
<pre><code>    echo ${#var}
</code></pre>
<p>获取当前使用的shell：</p>
<pre><code>    echo $SHELL #/bin/bash
    echo $0 #-bash
</code></pre>
<p>一种shell参数扩展形式：</p>
<pre><code>    ${paramater:+expression} #若paramater有值且不为空则使用expression的值
</code></pre>
<h3 id=数学运算>数学运算</h3>
<p>几种整数运算的格式：</p>
<pre><code>    no1=2;
    no2=3;
    let result=no1+no2
    result=$[$no1+$no2] #变量前可以不加$
    result=$(($no1+$no2)) #变量前可以不加$
</code></pre>
<p>还可以使用bc工具进行更高级的运算。</p>
<pre><code>    echo &quot;sqrt(250)&quot; | bc #开方
</code></pre>
<h3 id=设置别名>设置别名</h3>
<p><code>alias</code>的作用只是暂时的，关闭当前终端后定义的别名将失效。可将定义放在<code>.bashrc</code>中。例如：</p>
<pre><code>    echo 'alias rm=&quot;cp $@ ~/backup &amp;&amp; rm $@&quot;' &gt;&gt; ~/.bashrc
</code></pre>
<p>上面的指令为rm创建了一个别名，原有的rm将被这个新rm替换。
若想不使用别名而使用原本的命令，可用<code>\</code>进行转义。如：</p>
<pre><code>    \rm
</code></pre>
<p>就是使用原本的rm指令而不是自己定义的别名。</p>
<h3 id=heading></h3>
</div>
</article>
<div class=blog-post-comments>
<div id=disqus_thread>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='wzr',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#基本的bash-shell命令>基本的bash shell命令</a>
<ul>
<li><a href=#处理文件和目录>处理文件和目录</a></li>
<li><a href=#进程和设备管理>进程和设备管理</a></li>
<li><a href=#系统和权限>系统和权限</a></li>
</ul>
</li>
<li><a href=#脚本实战>脚本实战</a>
<ul>
<li><a href=#终端打印>终端打印</a></li>
<li><a href=#变量和环境变量>变量和环境变量</a></li>
<li><a href=#数学运算>数学运算</a></li>
<li><a href=#设置别名>设置别名</a></li>
<li><a href=#heading></a></li>
</ul>
</li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&text=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&title=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&is_video=false&description=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&title=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&title=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&name=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4&description=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4%20%e5%a4%84%e7%90%86%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%20%20ls%20%e8%be%93%e5%87%ba%e7%9b%ae%e5%bd%95%20%20-s%20%e6%98%be%e7%a4%ba%e6%96%87%e4%bb%b6%e5%a4%a7%e5%b0%8f%20-a%20%e8%be%93%e5%87%ba%e9%9a%90%e8%97%8f%e6%96%87%e4%bb%b6%20-i%20%e6%98%be%e7%a4%ba%e6%96%87%e4%bb%b6%e7%9a%84%e7%b4%a2%e5%bc%95%e5%80%bc%20-l%20%e4%ba%a7%e7%94%9f%e9%95%bf%e5%88%97%e8%a1%a8%e7%9a%84%e8%be%93%e5%87%ba%20-R%20%e9%80%92%e5%bd%92%e5%88%97%e5%87%ba%e5%ad%90%e7%9b%ae%e5%bd%95%e5%86%85%e5%ae%b9%20%20%20touch%20%e5%88%9b%e5%bb%ba%e6%96%b0%e6%96%87%e4%bb%b6%e6%88%96%e8%80%85%e6%94%b9%e5%8f%98%e8%ae%bf%e9%97%ae%2f%e4%bf%ae%e6%94%b9%e6%97%b6%e9%97%b4%20%20-a%20%e5%8f%aa%e6%94%b9%e5%8f%98%e8%ae%bf%e9%97%ae%e6%97%b6%e9%97%b4%20-m%20%e5%8f%aa%e6%94%b9%e5%8f%98%e4%bf%ae%e6%94%b9%e6%97%b6%e9%97%b4%20-t%20%e6%8c%87%e5%ae%9a%e6%97%b6%e9%97%b4%e6%88%b3%20%20%20cp%20%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%20%20-f%20%e5%bc%ba%e5%88%b6%e8%a6%86%e7%9b%96%e4%b8%8d%e6%8f%90%e7%a4%ba%20-i%20%e8%a6%86%e7%9b%96%e5%89%8d%e6%8f%90%e7%a4%ba%20-r%20%e9%80%92%e5%bd%92%e7%9a%84%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%20-R%20%e9%80%92%e5%bd%92%e7%9a%84%e5%a4%8d%e5%88%b6%e7%9b%ae%e5%bd%95%20-l%20%e5%88%9b%e5%bb%ba%e6%96%87%e4%bb%b6%e9%93%be%e6%8e%a5%ef%bc%88%e7%a1%ac%e9%93%be%e6%8e%a5%ef%bc%89%20-s%20%e5%88%9b%e5%bb%ba%e7%ac%a6%e5%8f%b7%e9%93%be%e6%8e%a5%ef%bc%88%e8%bd%af%e8%bf%9e%e6%8e%a5%ef%bc%89%20-v%20%e8%af%a6%e7%bb%86%e6%a8%a1%e5%bc%8f%20%20%20mv%20%e7%a7%bb%e5%8a%a8%e6%96%87%e4%bb%b6%ef%bc%88%e9%87%8d%e5%91%bd%e5%90%8d%ef%bc%89%20rm%20%e5%88%a0%e9%99%a4%e6%96%87%e4%bb%b6%20%20-i%20%e5%88%a0%e9%99%a4%e5%89%8d%e6%8f%90%e7%a4%ba%20-f%20%e5%bc%ba%e5%88%b6%e5%88%a0%e9%99%a4%e4%b8%8d%e6%8f%90%e7%a4%ba%20-r%20%e9%80%92%e5%bd%92%e5%88%a0%e9%99%a4%e9%9d%9e%e7%a9%ba%e7%9b%ae%e5%bd%95%20%20%20mkdir%20%e5%88%9b%e5%bb%ba%e7%9b%ae%e5%bd%95%20stat%20%e6%8f%90%e4%be%9b%e6%96%87%e4%bb%b6%e7%9a%84%e6%89%80%e6%9c%89%e7%8a%b6%e6%80%81%e4%bf%a1%e6%81%af%20file%20%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b%20cat%20%e6%98%be%e7%a4%ba%e6%96%87%e6%9c%ac%e6%95%b0%e6%8d%ae%20%20-n%20%e7%bb%99%e6%89%80%e6%9c%89%e8%a1%8c%e5%8a%a0%e4%b8%8a%e8%a1%8c%e5%8f%b7%20-b%20%e7%bb%99%e6%9c%89%e6%96%87%e6%9c%ac%e7%9a%84%e8%a1%8c%e5%8a%a0%e4%b8%8a%e8%a1%8c%e5%8f%b7%20-s%20%e5%a4%9a%e4%b8%aa%e7%a9%ba%e7%99%bd%e8%a1%8c%e5%8e%8b%e7%bc%a9%e4%b8%ba%e4%b8%80%e8%a1%8c%20-T%20%e7%94%a8%5eI%e6%9b%bf%e6%8d%a2%e5%88%b6%e8%a1%a8%e7%ac%a6%20%20%20more%20%e5%88%86%e9%a1%b5%e6%98%be%e7%a4%ba%20%20%e7%a9%ba%e6%a0%bc%20%e6%98%be%e7%a4%ba%e4%b8%8b%e4%b8%80%e5%b1%8f%20ENTER%20%e6%98%be%e7%a4%ba%e4%b8%8b%e4%b8%80%e8%a1%8c%20%2fexpression%20%e6%9f%a5%e6%89%be%20n%20%e6%9f%a5%e6%89%be%e4%b8%8b%e4%b8%80%e5%a4%84%e5%8c%b9%e9%85%8d%e7%9a%84%e5%86%85%e5%ae%b9%20%27%20%e8%b0%83%e5%88%b0%e5%8c%b9%e9%85%8d%e7%9a%84%e7%ac%ac%e4%b8%80%e5%a4%84%e5%86%85%e5%ae%b9%20%21" aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-03-05-bash-shell%2f&t=%e5%9f%ba%e6%9c%ac%e7%9a%84bash%20shell%e5%91%bd%e4%bb%a4" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 呉
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
</html>
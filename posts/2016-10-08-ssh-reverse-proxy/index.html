<!doctype html><html lang=en-us>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> ssh反向代理实现内网穿透（比较失败( ˙灬˙ )） | マクロス</title>
<link rel=canonical href=https://www.takuzen.me/posts/2016-10-08-ssh-reverse-proxy/>
<meta name=description content="勉強中">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="ssh反向代理实现内网穿透（比较失败( ˙灬˙ )）">
<meta property="og:description" content="有关背景请参见http://www.upwzr.com/2016/10/08/run-ngrok/，本文是在使用ngrok之前的依次失败的尝试。。。当然，ngrok实际上也是是ssh来实现的。
对于内网主机想要外网访问，最简单的办法当然是在路由器上做手脚，但是在不能操作路由设备的时候（比如说学校的内网网段），想要实现外网访问可通过ssh隧道实现。只需要一条很简单的命令：
ssh -N -f -R 80:127.0.0.1:8001 root@123.45.67.89  -N 不执行远程命令 -f 后台执行 -R remote_port:localhost:local_port 远程端口转发 上面的命令就表示连接到123.45.67.89，将本地的8001端口转发到123.45.67.89的80端口。公网主机的80端口转发必须使用root权限，用root角色去连接公网主机。  -g (GatewayPorts) option 先贴出一段鸟文：
 When you forward a TCP port (either locally or remotely), by default SSH only listens for connections to the forwarded port on the loopback address (localhost, 127.0.0.1). This means only other programs running on the same host as the listening side of the forwarding can connect to the forwarded port.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.takuzen.me/posts/2016-10-08-ssh-reverse-proxy/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2016-10-08T14:45:08+00:00">
<meta property="article:modified_time" content="2016-10-08T14:45:08+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="ssh反向代理实现内网穿透（比较失败( ˙灬˙ )）">
<meta name=twitter:description content="有关背景请参见http://www.upwzr.com/2016/10/08/run-ngrok/，本文是在使用ngrok之前的依次失败的尝试。。。当然，ngrok实际上也是是ssh来实现的。
对于内网主机想要外网访问，最简单的办法当然是在路由器上做手脚，但是在不能操作路由设备的时候（比如说学校的内网网段），想要实现外网访问可通过ssh隧道实现。只需要一条很简单的命令：
ssh -N -f -R 80:127.0.0.1:8001 root@123.45.67.89  -N 不执行远程命令 -f 后台执行 -R remote_port:localhost:local_port 远程端口转发 上面的命令就表示连接到123.45.67.89，将本地的8001端口转发到123.45.67.89的80端口。公网主机的80端口转发必须使用root权限，用root角色去连接公网主机。  -g (GatewayPorts) option 先贴出一段鸟文：
 When you forward a TCP port (either locally or remotely), by default SSH only listens for connections to the forwarded port on the loopback address (localhost, 127.0.0.1). This means only other programs running on the same host as the listening side of the forwarding can connect to the forwarded port.">
<link rel=stylesheet href=https://www.takuzen.me/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://www.takuzen.me/images/favicon.ico>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-83047470-2','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://www.takuzen.me/posts/2016-10-08-run-ngrok/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://www.takuzen.me/posts/2016-10-22-z/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&text=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&title=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&is_video=false&description=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&title=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&title=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&name=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89&description=%e6%9c%89%e5%85%b3%e8%83%8c%e6%99%af%e8%af%b7%e5%8f%82%e8%a7%81http%3a%2f%2fwww.upwzr.com%2f2016%2f10%2f08%2frun-ngrok%2f%ef%bc%8c%e6%9c%ac%e6%96%87%e6%98%af%e5%9c%a8%e4%bd%bf%e7%94%a8ngrok%e4%b9%8b%e5%89%8d%e7%9a%84%e4%be%9d%e6%ac%a1%e5%a4%b1%e8%b4%a5%e7%9a%84%e5%b0%9d%e8%af%95%e3%80%82%e3%80%82%e3%80%82%e5%bd%93%e7%84%b6%ef%bc%8cngrok%e5%ae%9e%e9%99%85%e4%b8%8a%e4%b9%9f%e6%98%af%e6%98%afssh%e6%9d%a5%e5%ae%9e%e7%8e%b0%e7%9a%84%e3%80%82%0a%e5%af%b9%e4%ba%8e%e5%86%85%e7%bd%91%e4%b8%bb%e6%9c%ba%e6%83%b3%e8%a6%81%e5%a4%96%e7%bd%91%e8%ae%bf%e9%97%ae%ef%bc%8c%e6%9c%80%e7%ae%80%e5%8d%95%e7%9a%84%e5%8a%9e%e6%b3%95%e5%bd%93%e7%84%b6%e6%98%af%e5%9c%a8%e8%b7%af%e7%94%b1%e5%99%a8%e4%b8%8a%e5%81%9a%e6%89%8b%e8%84%9a%ef%bc%8c%e4%bd%86%e6%98%af%e5%9c%a8%e4%b8%8d%e8%83%bd%e6%93%8d%e4%bd%9c%e8%b7%af%e7%94%b1%e8%ae%be%e5%a4%87%e7%9a%84%e6%97%b6%e5%80%99%ef%bc%88%e6%af%94%e5%a6%82%e8%af%b4%e5%ad%a6%e6%a0%a1%e7%9a%84%e5%86%85%e7%bd%91%e7%bd%91%e6%ae%b5%ef%bc%89%ef%bc%8c%e6%83%b3%e8%a6%81%e5%ae%9e%e7%8e%b0%e5%a4%96%e7%bd%91%e8%ae%bf%e9%97%ae%e5%8f%af%e9%80%9a%e8%bf%87ssh%e9%9a%a7%e9%81%93%e5%ae%9e%e7%8e%b0%e3%80%82%e5%8f%aa%e9%9c%80%e8%a6%81%e4%b8%80%e6%9d%a1%e5%be%88%e7%ae%80%e5%8d%95%e7%9a%84%e5%91%bd%e4%bb%a4%ef%bc%9a%0assh%20-N%20-f%20-R%2080%3a127.0.0.1%3a8001%20root%40123.45.67.89%20%20-N%20%e4%b8%8d%e6%89%a7%e8%a1%8c%e8%bf%9c%e7%a8%8b%e5%91%bd%e4%bb%a4%20-f%20%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%20-R%20remote_port%3alocalhost%3alocal_port%20%e8%bf%9c%e7%a8%8b%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91%20%e4%b8%8a%e9%9d%a2%e7%9a%84%e5%91%bd%e4%bb%a4%e5%b0%b1%e8%a1%a8%e7%a4%ba%e8%bf%9e%e6%8e%a5%e5%88%b0123.45.67.89%ef%bc%8c%e5%b0%86%e6%9c%ac%e5%9c%b0%e7%9a%848001%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91%e5%88%b0123.45.67.89%e7%9a%8480%e7%ab%af%e5%8f%a3%e3%80%82%e5%85%ac%e7%bd%91%e4%b8%bb%e6%9c%ba%e7%9a%8480%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91%e5%bf%85%e9%a1%bb%e4%bd%bf%e7%94%a8root%e6%9d%83%e9%99%90%ef%bc%8c%e7%94%a8root%e8%a7%92%e8%89%b2%e5%8e%bb%e8%bf%9e%e6%8e%a5%e5%85%ac%e7%bd%91%e4%b8%bb%e6%9c%ba%e3%80%82%20%20-g%20%28GatewayPorts%29%20option%20%e5%85%88%e8%b4%b4%e5%87%ba%e4%b8%80%e6%ae%b5%e9%b8%9f%e6%96%87%ef%bc%9a%0a%20When%20you%20forward%20a%20TCP%20port%20%28either%20locally%20or%20remotely%29%2c%20by%20default%20SSH%20only%20listens%20for%20connections%20to%20the%20forwarded%20port%20on%20the%20loopback%20address%20%28localhost%2c%20127.0.0.1%29.%20This%20means%20only%20other%20programs%20running%20on%20the%20same%20host%20as%20the%20listening%20side%20of%20the%20forwarding%20can%20connect%20to%20the%20forwarded%20port." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&t=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#-g-gatewayports-option>-g (GatewayPorts) option</a></li>
<li><a href=#稳定性>稳定性</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
ssh反向代理实现内网穿透（比较失败( ˙灬˙ )）
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2016-10-08 14:45:08 +0000 UTC" itemprop=datePublished>2016-10-08</time>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/ssh rel=tag>ssh</a>
,
<a class=tag-link href=/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F rel=tag>内网穿透</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<p>有关背景请参见<a href=http://www.upwzr.com/2016/10/08/run-ngrok/>http://www.upwzr.com/2016/10/08/run-ngrok/</a>，本文是在使用ngrok之前的依次失败的尝试。。。当然，ngrok实际上也是是ssh来实现的。</p>
<p>对于内网主机想要外网访问，最简单的办法当然是在路由器上做手脚，但是在不能操作路由设备的时候（比如说学校的内网网段），想要实现外网访问可通过ssh隧道实现。只需要一条很简单的命令：</p>
<pre><code>ssh -N -f -R 80:127.0.0.1:8001 root@123.45.67.89
</code></pre><ul>
<li>-N 不执行远程命令</li>
<li>-f 后台执行</li>
<li>-R <em>remote_port:localhost:local_port</em> 远程端口转发
上面的命令就表示连接到123.45.67.89，将本地的8001端口转发到123.45.67.89的80端口。<strong>公网主机的80端口转发必须使用root权限</strong>，用root角色去连接公网主机。</li>
</ul>
<h3 id=-g-gatewayports-option>-g (GatewayPorts) option</h3>
<p>先贴出一段鸟文：</p>
<blockquote>
<p>When you forward a TCP port (either locally or remotely), by default SSH only listens for connections to the forwarded port on the loopback address (localhost, 127.0.0.1). This means only other programs running on the same host as the listening side of the forwarding can connect to the forwarded port. This is a security feature, since there is no authentication applied to such connections. Also, such a forwarded connection is potentially insecure, since a portion of it is carried over the network in a plain TCP connection and not protected by SSH.</p>
</blockquote>
<p>上面大概是在说，默认情况下远程转发端口只能绑定到到回环地址<code>127.0.0.1</code>上，这就是说内网主机的转发只能绑定到公网主机的本地地址上，只有公网本机才能访问，显然不是我们想要的。我们需要指定<code>-g</code>参数为yes，这样便可以绑定到公网主机的<code>0.0.0.0</code>（即本机的所有地址）。
打开<code>/etc/ssh/sshd_config</code>，加入如下参数：</p>
<pre><code>GatewayPorts yes
</code></pre><p>重启ssh服务即可。</p>
<h3 id=稳定性>稳定性</h3>
<p>基本上大家都在用autossh，或者sshpass配合脚本实现自动重连，这个我没有尝试。（因为半路转去用ngrok）。</p>
<p>以我这次的实战为例，用于代理的公网主机是腾讯云的vps，有公网ip一个123.45.67.89（伪），内网主机一台，需要转发的服务跑在8001端口。注意，<strong>公网主机的80端口转发必须使用root权限</strong>，形如上面的那一条指令，用root去连接公网主机。否则链接会建立失败。腾讯云现在貌似只能使用ubuntu角色连接ssh，改也改不了，所以我只能绑定到非80端口，这样地址就变成papapa.bulabula.xxx:xxxx，拖着端口在后面，感觉超级不爽，也就没去配置autssh这些东西，结果链接很容易就挂起，重连的时候公网主机还在监听这个端口，就建立不起链接。。。于是我干脆放弃了。。。</p>
<p>最后采用了这种办法：<a href=http://www.upwzr.com/2016/10/08/run-ngrok/>http://www.upwzr.com/2016/10/08/run-ngrok/</a></p>
<blockquote>
<p>相关链接：
<a href=http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html>SSH原理与运用（二）：远程操作与端口转发</a>
<a href=http://www.netcan666.com/2016/09/28/ssh%E9%9A%A7%E9%81%93%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E5%88%B0%E5%85%AC%E7%BD%91%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/>ssh隧道反向代理实现内网到公网端口转发</a></p>
</blockquote>
<blockquote>
</blockquote>
</div>
</article>
<div class=blog-post-comments>
<div id=disqus_thread>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='wzr',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#-g-gatewayports-option>-g (GatewayPorts) option</a></li>
<li><a href=#稳定性>稳定性</a></li>
</ul>
</li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&text=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&title=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&is_video=false&description=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89&body=Check out this article: https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&title=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&title=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&name=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89&description=%e6%9c%89%e5%85%b3%e8%83%8c%e6%99%af%e8%af%b7%e5%8f%82%e8%a7%81http%3a%2f%2fwww.upwzr.com%2f2016%2f10%2f08%2frun-ngrok%2f%ef%bc%8c%e6%9c%ac%e6%96%87%e6%98%af%e5%9c%a8%e4%bd%bf%e7%94%a8ngrok%e4%b9%8b%e5%89%8d%e7%9a%84%e4%be%9d%e6%ac%a1%e5%a4%b1%e8%b4%a5%e7%9a%84%e5%b0%9d%e8%af%95%e3%80%82%e3%80%82%e3%80%82%e5%bd%93%e7%84%b6%ef%bc%8cngrok%e5%ae%9e%e9%99%85%e4%b8%8a%e4%b9%9f%e6%98%af%e6%98%afssh%e6%9d%a5%e5%ae%9e%e7%8e%b0%e7%9a%84%e3%80%82%0a%e5%af%b9%e4%ba%8e%e5%86%85%e7%bd%91%e4%b8%bb%e6%9c%ba%e6%83%b3%e8%a6%81%e5%a4%96%e7%bd%91%e8%ae%bf%e9%97%ae%ef%bc%8c%e6%9c%80%e7%ae%80%e5%8d%95%e7%9a%84%e5%8a%9e%e6%b3%95%e5%bd%93%e7%84%b6%e6%98%af%e5%9c%a8%e8%b7%af%e7%94%b1%e5%99%a8%e4%b8%8a%e5%81%9a%e6%89%8b%e8%84%9a%ef%bc%8c%e4%bd%86%e6%98%af%e5%9c%a8%e4%b8%8d%e8%83%bd%e6%93%8d%e4%bd%9c%e8%b7%af%e7%94%b1%e8%ae%be%e5%a4%87%e7%9a%84%e6%97%b6%e5%80%99%ef%bc%88%e6%af%94%e5%a6%82%e8%af%b4%e5%ad%a6%e6%a0%a1%e7%9a%84%e5%86%85%e7%bd%91%e7%bd%91%e6%ae%b5%ef%bc%89%ef%bc%8c%e6%83%b3%e8%a6%81%e5%ae%9e%e7%8e%b0%e5%a4%96%e7%bd%91%e8%ae%bf%e9%97%ae%e5%8f%af%e9%80%9a%e8%bf%87ssh%e9%9a%a7%e9%81%93%e5%ae%9e%e7%8e%b0%e3%80%82%e5%8f%aa%e9%9c%80%e8%a6%81%e4%b8%80%e6%9d%a1%e5%be%88%e7%ae%80%e5%8d%95%e7%9a%84%e5%91%bd%e4%bb%a4%ef%bc%9a%0assh%20-N%20-f%20-R%2080%3a127.0.0.1%3a8001%20root%40123.45.67.89%20%20-N%20%e4%b8%8d%e6%89%a7%e8%a1%8c%e8%bf%9c%e7%a8%8b%e5%91%bd%e4%bb%a4%20-f%20%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%20-R%20remote_port%3alocalhost%3alocal_port%20%e8%bf%9c%e7%a8%8b%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91%20%e4%b8%8a%e9%9d%a2%e7%9a%84%e5%91%bd%e4%bb%a4%e5%b0%b1%e8%a1%a8%e7%a4%ba%e8%bf%9e%e6%8e%a5%e5%88%b0123.45.67.89%ef%bc%8c%e5%b0%86%e6%9c%ac%e5%9c%b0%e7%9a%848001%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91%e5%88%b0123.45.67.89%e7%9a%8480%e7%ab%af%e5%8f%a3%e3%80%82%e5%85%ac%e7%bd%91%e4%b8%bb%e6%9c%ba%e7%9a%8480%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91%e5%bf%85%e9%a1%bb%e4%bd%bf%e7%94%a8root%e6%9d%83%e9%99%90%ef%bc%8c%e7%94%a8root%e8%a7%92%e8%89%b2%e5%8e%bb%e8%bf%9e%e6%8e%a5%e5%85%ac%e7%bd%91%e4%b8%bb%e6%9c%ba%e3%80%82%20%20-g%20%28GatewayPorts%29%20option%20%e5%85%88%e8%b4%b4%e5%87%ba%e4%b8%80%e6%ae%b5%e9%b8%9f%e6%96%87%ef%bc%9a%0a%20When%20you%20forward%20a%20TCP%20port%20%28either%20locally%20or%20remotely%29%2c%20by%20default%20SSH%20only%20listens%20for%20connections%20to%20the%20forwarded%20port%20on%20the%20loopback%20address%20%28localhost%2c%20127.0.0.1%29.%20This%20means%20only%20other%20programs%20running%20on%20the%20same%20host%20as%20the%20listening%20side%20of%20the%20forwarding%20can%20connect%20to%20the%20forwarded%20port." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.takuzen.me%2fposts%2f2016-10-08-ssh-reverse-proxy%2f&t=ssh%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%ef%bc%88%e6%af%94%e8%be%83%e5%a4%b1%e8%b4%a5%28%20%cb%99%e7%81%ac%cb%99%20%29%ef%bc%89" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 呉
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
</html>